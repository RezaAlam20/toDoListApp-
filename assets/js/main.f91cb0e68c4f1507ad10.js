(()=>{"use strict";const e=document.querySelector("#container");function t(t){for(;e.firstElementChild;)e.removeChild(e.firstElementChild);t.forEach(t=>{const n=document.createElement("div");n.id=t.id,n.classList.add("project"),e.appendChild(n);const o=document.createElement("p");o.textContent=t.name,n.appendChild(o),function(e){const t=document.createElement("div");t.classList.add("removeBtn"),t.innerHTML='<svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" stroke="#ffffff"><g id="SVGRepo_bgCarrier" stroke-width="0"></g><g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g><g id="SVGRepo_iconCarrier"> <path d="M18 6L17.1991 18.0129C17.129 19.065 17.0939 19.5911 16.8667 19.99C16.6666 20.3412 16.3648 20.6235 16.0011 20.7998C15.588 21 15.0607 21 14.0062 21H9.99377C8.93927 21 8.41202 21 7.99889 20.7998C7.63517 20.6235 7.33339 20.3412 7.13332 19.99C6.90607 19.5911 6.871 19.065 6.80086 18.0129L6 6M4 6H20M16 6L15.7294 5.18807C15.4671 4.40125 15.3359 4.00784 15.0927 3.71698C14.8779 3.46013 14.6021 3.26132 14.2905 3.13878C13.9376 3 13.523 3 12.6936 3H11.3064C10.477 3 10.0624 3 9.70951 3.13878C9.39792 3.26132 9.12208 3.46013 8.90729 3.71698C8.66405 4.00784 8.53292 4.40125 8.27064 5.18807L8 6M14 10V17M10 10V17" stroke="#ffffff" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></path> </g></svg>',e.appendChild(t)}(n),function(e){const t=document.createElement("div");t.classList.add("createTask"),t.innerHTML='<svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" stroke="#ffffff"><g id="SVGRepo_bgCarrier" stroke-width="0"></g><g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g><g id="SVGRepo_iconCarrier"> <path d="M6 12H18M12 6V18" stroke="#ffffff" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></path> </g></svg>',e.appendChild(t)}(n)})}function n(e){const t=document.querySelector("#content");for(;t.firstElementChild;)t.removeChild(t.firstElementChild);for(let n=0;n<e.tasks.length;n++){const s=document.createElement("div");t.appendChild(s),s.classList.add("task");const a=document.createElement("h1");a.textContent=`${e.tasks[n].name}`;const c=document.createElement("p");c.textContent=`${e.tasks[n].priority}`,s.appendChild(a),s.appendChild(c);const d=e.tasks[n],l=o(s,d);s.appendChild(l);const u=r(d);s.appendChild(u);const m=i(d);s.appendChild(m)}}function o(e,t){const n=document.createElement("input");return n.type="checkbox",n.checked=e.done,n.addEventListener("change",()=>{t.taskDone(),console.log(t.done)}),n}function r(e){const t=document.createElement("div");t.classList.add("dueDate");const n=e.dueDate;return t.textContent=n,t}function i(e){const t=document.createElement("div");return t.classList.add("dueBadge"),t.textContent=e.dueStatus,t}document.querySelector("#nav");let s,a=[];function c(){return s}function d(e){s=e}function l(){return a}function u(e){a.push(e),localStorage.setItem("user",JSON.stringify(a))}Math.pow(10,8);const m=Symbol.for("constructDateFrom");function p(e,t){return o=e,"function"==typeof(n=t||e)?n(o):n&&"object"==typeof n&&m in n?n[m](o):n instanceof Date?new n.constructor(o):new Date(o);var n,o}function f(e){return Math.trunc(+p(e)/1e3)}function h(e,t){const n=p(e,t?.in);return n.setHours(0,0,0,0),n}class k{constructor(e){this.name=e,this.id=crypto.randomUUID(),this.tasks=[]}createTask(e,t,n){const o=new g(e,t,n);return this.tasks.push(o),o}deleteTask(e){this.tasks.forEach(t=>{t.id==e&&this.tasks.splice(t,1)})}editTask(){}}class g{constructor(e,t,n,o=!1,r){this.name=e,this.priority=t,this.done=o,this.id=crypto.randomUUID(),this.dueDate=n,this.dueStatus=r}taskDone(){this.done=!this.done}checkDue(){const e=f(h(new Date)),t=f(h(this.dueDate));t==e?this.dueStatus="due-today":t>e?this.dueStatus="upcoming":t<e&&(this.dueStatus="over-due")}}const v=localStorage.getItem("user");if(v){const e=JSON.parse(v);for(let t=0;t<e.length;t++){const n=new k(e[t].name);for(let o=0;o<e[t].tasks.length;o++){const r=e[t].tasks[o];n.createTask(r.name,r.priority,r.dueDate)}u(n)}t(l())}const C=document.createElement("form"),y=document.querySelector("nav");C.innerHTML='<label for="name">project name</label>\n                        <div><input type="text" id="name" name="name" required>\n                    <button type="submit">create</button></div>',y.appendChild(C),C.addEventListener("submit",e=>{e.preventDefault();let o=C.querySelector("#name").value;u(new k(o)),t(l());const r=l().length-1;d(l()[r]),n(c())}),document.querySelector("#container").addEventListener("click",e=>{if(e.target.closest(".project")){const o=e.target.closest(".project").id;for(let e=0;e<l().length;e++)l()[e].id==o&&(d(l()[e]),n(c()));e.target.closest(".removeBtn")?(!function(e){for(let t=0;t<a.length;t++)a[t].id==e.id&&(a.splice(t,1),localStorage.setItem("user",JSON.stringify(a)))}(e.target.closest(".removeBtn").parentElement),t(l())):e.target.closest(".createTask")&&(function(){const e=document.querySelector("#content");for(;e.firstElementChild;)e.removeChild(e.firstElementChild);const t=document.createElement("form");t.classList.add("taskForm"),t.innerHTML='        <div>\n            <label for="taskname">Task name</label>\n            <input type="text" id="taskname" name="taskname" required>\n        </div>\n        <div>\n            <label for="priority">priority</label>\n            <select name="priority" id="priority">\n                <option value="low">low</option>\n                <option value="medium">medium</option>\n                <option value="high">high</option>\n            </select>\n        </div>\n        <div> <input type="date" id="dueDate" required>\n        </div>\n        <button type="submit">create Task</button>',e.appendChild(t)}(),function(){const e=document.querySelector(".taskForm");e.addEventListener("submit",t=>{t.preventDefault();const o=c(),r=e.querySelector("#taskname").value,i=e.querySelector("#priority").value,s=e.querySelector("#dueDate").value;o.createTask(r,i,s).checkDue(),n(o),localStorage.setItem("user",JSON.stringify(l()))})}())}})})();
//# sourceMappingURL=main.f91cb0e68c4f1507ad10.js.map